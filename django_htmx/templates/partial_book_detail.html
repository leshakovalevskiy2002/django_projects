{% load i18n %}
{% load custom_filters %}
{% get_current_language as LANGUAGE_CODE %}
<tr class="{% if book.read %}grey-text{% endif %}">
    <!-- Ячейка номера книги -->
    <td class="align-middle text-center ps-2">
        {{ book.id }}
    </td>

    <!-- Ячейка названия книги -->
    <td class="align-middle ps-2">
        {{ book.title }}
    </td>

    <!-- Ячейка автора книги -->
    <td class="align-middle ps-2">
        {{ book.author }}
    </td>

    <!-- Ячейка цены книги -->
    <td class="align-middle text-center">
        {% if LANGUAGE_CODE == 'en' %}
            {{ book.price|convert_currency_filter }}
        {% else %}
            {{ book.price }}
        {% endif %}
    </td>

    <!-- Ячейка состояния -->
    <td class="align-middle text-center">
        <!-- Кнопка "Read/Unread" -->
        <button class="disbtn table-button status-button btn btn-sm
                {% if book.read %}btn-secondary{% else %}btn-primary{% endif %}"
                hx-patch="{% url 'update_book_status' book.id %}"
                hx-target="closest tr"
                hx-swap="outerHTML" >
            {% if book.read %}{% trans "Read" %}{% else %}{% trans "Unread" %}{% endif %}
        </button>
    </td>

    <!--  Ячейка кнопок действия -->
    <td class="align-middle text-center">
        <!-- Кнопка "Edit" -->
        <button class="disbtn table-button any-button btn btn-info btn-sm me-2"
                hx-get="{% url 'update_book_details' book.id %}"
                hx-target="closest tr"
                hx-swap="outerHTML" >
            {% trans "Edit" %}
        </button>

        <!-- Кнопка "Delete" -->
        <button class="disbtn table-button any-button btn btn-danger btn-sm"
                hx-delete="{% url 'delete_book' book.id %}"
                hx-target="closest tr"
                hx-swap="outerHTML"
                hx-confirm="{% trans 'Are you sure you wish to delete this book?' %}" >
            {% trans "Delete" %}
        </button>
    </td>
</tr>